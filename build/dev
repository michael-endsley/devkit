#!/bin/bash

current_dir="${0%/*}"
config_file="${current_dir}/../config/.devkitcfg"

source $config_file
source $current_dir/tasks

target=$2
repos_path="$DEVKIT_REPOS_PATH"

# Function to check whether $2 (target) is empty, exit if it is
check_for_target() {
  ! [[ -z $target ]] || { echo $"Usage: $0 {$task} [target]"; exit; }
}

case "$1" in
  start)
    task="start"
    check_for_target
    start_service
    ;;
  stop)
    task="stop"
    check_for_target
    stop_service
    ;;
  *)
    echo $"Usage: $0 {start|stop} [target]"
esac
